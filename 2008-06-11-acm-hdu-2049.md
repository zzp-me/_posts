---
layout: article
title: 2049 不容易系列之(4)——考新郎
date: 2008-06-11 20:04
category: 杭电100题
excerpt:
  首先,给每位新娘打扮得几乎一模一样,并盖上大大的红盖头随机坐成一排;
  然后,让各位新郎寻找自己的新娘.每人只准找一个,并且不允许多人找一个.
  最后,揭开盖头,如果找错了对象就要当众跪搓衣板...
---
# 问题描述

## Problem Description

{% img 1.gif right %}

国庆期间,省城HZ刚刚举行了一场盛大的集体婚礼,为了使婚礼进行的丰富一些,司仪临时想出了有一个有意思的节目,叫做"考新郎",具体的操作是这样的:

首先,给每位新娘打扮得几乎一模一样,并盖上大大的红盖头随机坐成一排;

然后,让各位新郎寻找自己的新娘.每人只准找一个,并且不允许多人找一个.

最后,揭开盖头,如果找错了对象就要当众跪搓衣板...

看来做新郎也不是容易的事情...

假设一共有N对新婚夫妇,其中有M个新郎找错了新娘,求发生这种情况一共有多少种可能.


## Input

输入数据的第一行是一个整数C,表示测试实例的个数，然后是C行数据，每行包含两个整数N和M(1<M<=N<=20)。

## Output

对于每个测试实例，请输出一共有多少种发生这种情况的可能，每个实例的输出占一行。

## Sample Input

    2
    2 2
    3 2

## Sample Output

    1
    3

# 问题分析

## Problem Analyse

递推题

## Algorithm Analyse

依然是错排问题，方法见[2048题]({% post_url 2008-06-11-acm-hdu-2048 %})。但这里还要从N个新郎中找出M个冤大头。HOHO~

方法就不用多讲了，就是求组合C<sup>m</sup><sub>n</sub>。

# 算法实现

先求出组合数在乘以错排结果。不然做乘法运算可能会在中间过程中就造成数据溢出。而且组合的规律告诉我们，这里做除法运算不会造成精度丢失情况。

# 参考源码

{% gist 7499122 2049.cpp %}
