---
layout: article
title: 2068 RPG的错排
date: 2008-06-11 20:04
category: 杭电100题
excerpt:
  由于RPG的带动，做ACM的女生越来越多，我们的野骆驼想都知道她们，
  可现在有N多人，他要猜的次数可就多了，为了不为难野骆驼，
  女生们只要求他答对一半或以上就算过关，请问有多少组答案能使他顺利过关。
---
# 问题描述

## Problem Description

今年暑假杭电ACM集训队第一次组成女生队,其中有一队叫RPG,但做为集训队成员之一的野骆驼竟然不知道RPG三个人具体是谁谁。RPG给他机会让他猜猜，第一次猜：R是公主，P是草儿，G是月野兔；第二次猜：R是草儿，P是月野兔，G是公主；第三次猜：R是草儿，P是公主，G是月野兔；......可怜的野骆驼第六次终于把RPG分清楚了。由于RPG的带动，做ACM的女生越来越多，我们的野骆驼想都知道她们，可现在有N多人，他要猜的次数可就多了，为了不为难野骆驼，女生们只要求他答对一半或以上就算过关，请问有多少组答案能使他顺利过关。

## Input

输入的数据里有多个case,每个case包括一个n，代表有几个女生，（n<=25）, n = 0输入结束。

## Output

给出有多少组答案能使他顺利过关。

## Sample Input

    1
    2
    0

## Sample Output

    1
    1

# 问题分析

和[2048]({% post_url 2008-06-11-acm-hdu-2048 %})、[2049]({% post_url 2008-06-11-acm-hdu-2049 %})题一样，都属于错排题。错排公式: `f(n) = (i - 1) * [f(n-1) + f(n-2)]`。

具体的推导请查看[2048]({% post_url 2008-06-11-acm-hdu-2048 %})。当然，本题目还涉及到组合，排错的i个人要从n个人中选出，并且要累加i从 0 -> n/2的所有错排个数。

# 算法实现

数据范围比较大，需要用double型数据。

# 参考源码

{% gist 7499122 2068.cpp %}
