---
layout: article
title: Pig升级到0.7版
date: 2011-01-03 04:26
category: 金山词霸生词本转换器
excerpt:
  Pig的一次重大升级，使用HTA技术完全重写。
  Pig的开发让我认识到功能不是越多越好，而是越精越好。
---

# 关于 Pig

Pig 距离上一次更新有快两年的时间了，期间发生了很多事。其中一个原因是我后来对自己电脑上的软件进行了正版化清理：诸如 Visual Basic 6.0 精简版、VMWare 等盗版软件都被我卸载了，而 Pig 之前的版本都是用 VB6 精简版 + Dev-C++ 开发的。

# 姗姗来迟的新版本

事隔这么久，期间也有几位热心网友发邮箱报告程序 Bug，并对程序新功能提出了展望。可惜这次的更新不仅没添加任何新功能，反而还砍掉了一些比较鸡肋的功能。

{% img 1.gif %}

程序界面如右图所示，与以前的界面相比变化不大（这正是我想要的）。不过本质区别是：以前的 Pig 是一个独立的可执行程序调用一堆动态链接库来完成任务；如今的 Pig 只是一张网页，通过执行 JScript 和极少量的 VBScript 来实现功能。

## 新版本解决的问题

1. 这次的开发编辑器用的是 Emacs，语言选的是 JavaScript 和 HTML。开发环境方面没有版权问题。
1. 随着金山词霸本身的升级，生词本导出文件的格式出现了调整。有网友反映 Pig 不能处理这些新文件。这次更新也增强了这方面功能，现在 Pig 能处理到目前为止的所有版本生词本导出的文件。
1. Pig 之前的版本是用 VB 和 C 语言写的，源代码并没有随程序一起发布。这回简单了，JavaScript 和 VBScript 天生具有开源性质，源代码就是程序，你想怎么改都行。
1. 更新了帮助文档。

## 砍掉的功能有：

1. 合并“指定输出路径”和“生成单个文件”两个功能；
1. 删除“输出卡片风格”（这功能真的没人用），统一用“列表”形式；
1. 删除“图片格式”（当初有这个功能是因为 IE6 不能显示 Unicode 编码的音标，哪知我是费力不讨好：大家背单词并不关心音标）；
1. 删除“PDF格式”（也是费力不讨好的活）；
1. 删除“字段排序”功能（目前还没人把音标或解释放到单词前面来打印）。

## 下一步预期：

1. 我自己的系统是 Vista，必须找台 XP 的电脑测试一下（毕竟目前的用户都是用 XP 的）；（Done @ 2011-01-03）
1. 生成 Excel 格式的文件；
1. 在已安装了金山词霸的电脑上能自动分析生词本数据库，用户无需导出成文本文件；
1. 去支持其他词典软件，比如有道、灵格斯等。

# 版权问题

和我的其他玩具一样：源代码都给你了，那还不是想怎么样就怎么样了？说真的，其实我懒得搭理这种事情。我认识的人都知道这玩意儿是我为他们开发的，其他人怎么想我就不在乎了。先睡觉，醒来我会把程序发布到 Google Code 上，到时再更新链接。

# 后记

今天白天在 XP + IE6 下做了简单的测试，并升级到 v0.7.1 版本，不过在 IE6 里选项卡之间切换时会出现一片空白（如下图），是 jQuery 的插件 jdMenu 的问题，它并不影响功能，所以暂时不去修复了。

{% img 2.gif %}

程序已经发布到Github上：[https://github.com/redraiment/pig](https://github.com/redraiment/pig)。
