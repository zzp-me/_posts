---
layout: article
title: 2005 第几天？
date: 2008-06-11 20:04
category: 杭电100题
excerpt:
  闰年判断方法：year能4整数
  但不能被100整除
  或者能被400整除。
---
# 问题描述

## Problem Description

给定一个日期，输出这个日期是该年的第几天。

## Input

输入数据有多组，每组占一行，数据格式为YYYY/MM/DD组成，具体参见sample input ,另外，可以向你确保所有的输入数据是合法的。

## Output

对于每组输入数据，输出一行，表示该日期是该年的第几天。

## Sample Input

    1985/1/20
    2006/3/12

## Sample Output

    20
    71

# 问题分析

## Problem Analyse

本题是为C语言初学者提供的。

前置知识:基本历法知识

## Algorithm Analyse

判断N是否为闰年的方法是：N能4整数但不能被100整除 或者 N能被400整除。算出第N年的每个月的天数后就从一月开始累加，不要忘了最后要加天数哦。^_^

# 算法实现

因为输入的日期使用固定的格式，可以直接使用 scanf 格式化输入，省去了解析的步骤。

对于闰年的判断可以写成一个宏：

{% highlight c %}
#define leap(n) (n % 4 == 0 && (n % 100 != 0 || n % 400 == 0))
{% endhighlight %}

是闰年返回1，否则返回0。

再开一个二维数组来保存闰年和非闰年每个月的天数。这样做可以减少编码的复杂度。当然，对于这样的简单题能通过的就是好代码。

# 参考源码

{% highlight c %}
#include <stdlib.h>
#include <stdio.h>
#include <math.h>

#define leap(n) (n % 4 == 0 && (n % 100 != 0 || n % 400 == 0))

int main(void) {
  int y, m, d, i, s;
  int month[2][13] = {
    {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31},
    {0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31}
  };

  while (scanf("%d/%d/%d", &y, &m, &d) != EOF) {
    for (s = 0, i = 1 ; i < m ; i++)
      s += month[leap(y)][i];
    s += d;
    printf("%d\n", s);
  }

  return EXIT_SUCCESS;
}
{% endhighlight %}
